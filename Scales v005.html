<!DOCTYPE html>
<html = lang="ru">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <title>Scales</title>
    <meta charset="utf-8">

    <style>
:root {
    --color-bg: #ddfdeb;
    --color-bg-buttons: #c8f8dd;
    --color-bg-div: #c4f7e6;
    --color-bg-h: #aef5dd;
    --color-font: #000000;
    --color-border: #a6d4c5;
    --color-danger: #d84c4c;
    --color-info: #adffec;
    
}

.darkstyle {
    --color-bg: #222222;
    --color-bg-buttons: #1b304e;
    --color-bg-div: #2c2c32;
    --color-bg-h: #27272e;
    --color-font: #f6f7f8;
    --color-border: #5a5a5a83;
    --color-danger: #9a3434;
    --color-info: #434347;
}

.info {
    color: var(--color-info);
}

body {
    background-color: var(--color-bg);
    
}

p {
    color: var(--color-font);
}

h2 {
    margin: 1%;
    padding: 5px;
    background-color: var(--color-bg-h);
    color: var(--color-font);
}

h3 {
    margin: 1%;
    padding: 5px;
    background-color: var(--color-bg-h);
    color: var(--color-font);
}

h5 {
    margin: 1%;
    padding: 2px;
    background-color: var(--color-bg-h);
    color: var(--color-font);
    font-size: small;
}

h6 {
    margin: 1px;
    padding: 2px;
    background-color: var(--color-bg-h);
    color: var(--color-font);
    font-size: small;
}

.fontLarge {
    font-size: x-large;
}

div {
    background-color: var(--color-bg-div);
    padding: 5px;
    margin: 2px;
    font-family: Roboto, Arial;
    font-size: medium;
    border: 2px solid var(--color-border);
}

.answers {
    height: 40%;
}

ul {
    height: 50%;
}

button {
    background-color: var(--color-bg);
    color: var(--color-font);
    font-family: Roboto, Arial;
    font-size: medium;
    width: 99%;
    padding: 5px;
    margin: 5px;
    
}

.mainButton {
    background-color: var(--color-bg-buttons);
}

.none {
    display: none;
}


    </style>
    

</head>





<body>
    <div id="testsList">
        <h2> Оберіть тест: </h2>

        <div id="testsContainer">

        </div>

    </div>



    <div id="examination", class="none">
        <div>
            <h2 id="question"> Question </h2>
            <h3 id="questionDescription">  </h3>
        </div>

        <div id="answers", class="answers">

        </div>

        <div id="results", class="none">
            <h6 id="result"> Result </h6>
        </div>
    
        <button id="back", class="mainButton"> На головну </button>

        <p id="description"></p>
    </div>

    <div>

        <input type="checkbox" id="toggleTheme"/>
        <label for="scales">Dark theme</label>

    </div>

    <p class="info"> For non-commercial and educational use only. All rights to the scales and tests used belong to their authors. Script created by Portalenko Mykola </p>



</body>


</html>

<script>
    
const tests = {
    // "Example": {
    //     "name": "example",
    //     "description": "",
    //     "type": "test_default",
    //     "usage": [
    //         "Сфера застосування",
    //         "Наприклад, неврологія",
    //         "Травматологія"
    //     ],
    //     "data": 
    //     [
    //         [
    //             "Питання 1",
    //             "Опис",
    //             [
    //             [1, "Так"],
    //             [0, "Ні"]
    //             ]
                
    //         ],
    //         [
    //             "Питання 2",
    //             "Опис 2",
    //             [
    //             [1, "Варіант 1"],
    //             [0, "Варіант 2"]
    //             ]
                
    //         ]
            
    //     ]
    // },

    // "Example_SA": {
    //     "name": "example same answers",
    //     "description": "",
    //     "type": "same_answers",
    //     "usage": [
    //         "Сфера застосування",
    //         "Наприклад, неврологія",
    //         "Травматологія"
    //     ],
    //     "answers": [
    //         [0, "Ні"],
    //         [2, "Іноді"],
    //         [4, "Так"]
    //     ],
    //     "data": 
    //     [
    //         [
    //             "Питання",
    //             "Опис"
    //         ]
            
    //     ]
    // },




    // "Oswestry": {
    // "name": "Шкала Освестрі",
    // "description": "MAX 100, Min 0 (Normal). Анкета для оцінки ступеня функціонального обмеження при болю в попереку",
    // "type": "calculated",
    // "calculation": {
    //   "method": "percentage_of_max",
    //   "max_per_question": 5
    // },
    // "usage": [
    //   "Ортопедія",
    //   "Неврологія"
    // ],
    // "data": [

// ###########################################################

"BI": {
        "name": "Бартел індекс активності повсякденного житя",
        "description": "Індекс активності повсякденного житя. Цей індекс вимірює ступінь, коли хтось може функціонувати самостійно і має мобільність своєї повсякденної діяльності (ADL), тобто прийом їжі, прийом ванни, гігієнічні процедури, одягання. Індекс також вказує на необхідність надання допомоги у догляді. Індекс Бартел (BI) є широко використовуваним показником функціональної недостатності. Індекс був розроблений для використання в реабілітації хворих з інсультом та іншими нервово-м’язовими або скелетно-м’язовими захворюваннями, але також може використовуватись і для онкологічних хворих. <50 - тяжка інвалідність, 50-75 - помірна інвалідність, 80-100- мінімальне обмеження або хороше відновлення неврологічної функції. Max 100",
        "usage": "",
        "type": "test_default",
        "data": 
        [
  [
    "Прийом їжі",
    "",
    [
      [
        10,
        "10 — незалежний — пацієнт може самостійно їсти з підносу або столу, коли хтось подає їжу в межах його досяжності. Він повинен поставити допоміжні прибори, якщо це необхідно, розрізати їжу, використовувати сіль і перець, намастити масло на хліб тощо. Він повинен зробити це за прийнятний час."
      ],
      [
        5,
        "5 — потрібна певна допомога (з розрізанням їжі та ін., що зазначено вище)"
      ],
      [
        0,
        "0 — безпомічний — пацієнта необхідно годувати. "
      ]
    ]
  ],
  [
    "Переміщення з ліжка на інвалідний візок і назад",
    "",
    [
      [
        15,
        "15 — пацієнт незалежний на всіх етапах цього виду діяльності. пацієнт може безпечно під’їхати до ліжка в своєму інвалідному візку, розблокувати систему гальм, підняти підніжку, безпечно переміститися в ліжко, лягти, привести себе в сидяче положення на ліжку, змінити положення інвалідного візка, щоб при необхідності безпечно переміститися в нього і повернутися до інвалідного візка."
      ],
      [
        10,
        "10 — потрібна певна мінімальна допомога на якомусь етапі цього виду діяльності або пацієнту треба нагадати чи контролювати для забезпечення безпеки одного або декількох етапів цього виду діяльності."
      ],
      [
        5,
        "5 — пацієнт може привести себе в сидяче положення без допомоги іншої людини, але його необхідно підняти з ліжка або, якщо він переміщується, то зі значною допомогою."
      ],
      [
        0,
        "0 — залежний — пацієнт не може привести себе в сидяче положення."
      ]
    ]
  ],
  [
    "Персональна гігієна",
    "",
    [
      [
        5,
        "5 — пацієнт може самостійно вимити обличчя і руки, розчесати волосся, почистити зуби і поголитися. Він може використовувати будь-який вид бритви, але повинен покласти лезо або ввімкнути бритву без сторонньої допомоги, а також дістати її з ящика або шафи. Пацієнтки повинні самостійно наносити макіяж, якщо він використовується, але не обов’язково заплітати волосся або робити зачіску."
      ],
      [
        0,
        "0 — пацієнту потрібна допомога"
      ]
    ]
  ],
  [
    "Користування туалетом",
    "",
    [
      [
        10,
        "10 — пацієнт може самостійно користуватися туалетом, знімати та вдягати одяг, запобігти забрудненню одягу і використовувати туалетний папір без сторонньої допомоги. Він може використовувати поручні на стіні або інший стійкий об’єкт для підтримки в разі необхідності. Якщо необхідно використовувати підкладне судно замість туалету, він повинен бути в змозі помістити його на стілець, очистити і помити. "
      ],
      [
        5,
        "5 — пацієнт потребує допомоги через порушення рівноваги або при вдяганні та знятті одягу, або при використанні туалетного паперу"
      ],
      [
        0,
        "0 — пацієнту потрібна допомога"
      ]
    ]
  ],
  [
    "Прийом ванни",
    "",
    [
      [
        5,
        "5 — пацієнт може самостійно приймати ванну, душ або провести повне обтирання тіла губкою. Він повинен бути в змозі зробити всі необхідні етапи в залежності від того, який метод використовується, без допомоги іншої людини"
      ],
      [
        0,
        "0 — пацієнту потрібна допомога"
      ]
    ]
  ],
  [
    "Пересування по рівній площині",
    "",
    [
      [
        15,
        "15 — пацієнт може пройти щонайменше 50 метрів без сторонньої допомоги або нагляду. Він може носити ортопедичний апарат або протези і використовувати милиці, палиці, але не ходунки-опори. Він повинен бути в змозі за необхідності заблокувати і розблокувати ортопедичний апарат, припустимо з положення стоячи, і сісти, привести всі необхідні механізми в належний стан для подальшого використання і звільнитися від них, коли він сидить (одягати і знімати корсет під одягом)"
      ],
      [
        10,
        "10 — пацієнт потребує допомоги або нагляду при всіх видах ходьби, що описані вище, але може пройти щонайменше 50 метрів з невеликою допомогою"
      ],
      [
        5,
        "5 — якщо пацієнт не може пересуватися, але може самостійно керувати інвалідним візком. Він повинен бути в змозі оминати кути, розвернутися, маневрувати від стільця до столу, ліжка, туалету та ін. Він повинен бути в змозі проїхати візком принаймні 50 метрів"
      ],
      [
        0,
        "0 — нерухомий — пацієнт потребує допомоги при пересуванні в інвалідному візку"
      ]
    ]
  ],
  [
    "Підняття та спускання сходами",
    "",
    [
      [
        10,
        "10 — пацієнт може безпечно піти вгору і вниз сходами без допомоги або нагляду. Він може і повинен використовувати поручні, палиці або милиці, коли це необхідно. Він повинен бути в змозі нести палиці або милиці, коли піднімається або спускається сходами."
      ],
      [
        5,
        "5 — пацієнт потребує допомоги або нагляду при виконанні будь-якого з перерахованих вище пунктів"
      ],
      [
        0,
        "0 — пацієнт не в змозі йти вгору і вниз сходами. Він потребує ліфта. "
      ]
    ]
  ],
  [
    "Одягання та роздягання",
    "пацієнткам не слід враховувати використання бюстгальтера або пояса, якщо немає вказаних елементів одягу",
    [
      [
        10,
        "10 — пацієнт здатний надіти і зняти та застібнути весь одяг, зав’язати шнурки взуття (якщо не потрібно використовувати пристосування для цього). Цей вид повсякденної діяльності включає надягання, зняття і кріплення корсета або бандажу, коли вони передбачені. За необхідності можуть бути використані такі спеціальні елементи одягу, як підтяжки, мокасини, сукні, які розстібаються спереду. "
      ],
      [
        5,
        "5 — пацієнт потребує допомоги в одяганні, знятті або застібанні будь-якого одягу. Принаймні половину роботи він повинен зробити самостійно. Він повинен зробити це за прийнятний час."
      ],
      [
        0,
        "0 — пацієнту потрібна допомога"
      ]
    ]
  ],
  [
    "Контроль дефекації",
    "",
    [
      [
        10,
        "10 — пацієнт здатний контролювати дефекацію і не має жодного проблемного випадку. Він може використовувати свічку або клізму, коли це необхідно (як для пацієнтів з ушкодженнями спинного мозку, що проходили підготовку кишечнику)."
      ],
      [
        5,
        "5 — пацієнт потребує допомоги у використанні супозиторіїв чи клізми або час від часу має проблемні випадки"
      ],
      [
        0,
        "0 — нетримання"
      ]
    ]
  ],
  [
    "Контроль сечовипускання",
    "",
    [
      [
        10,
        "10 — пацієнт може контролювати сечовипускання вдень і вночі. Пацієнти з ушкодженнями спинного мозку, які носять зовнішній катетер і сумку на нозі, повинні самостійно їх ставити, чистити й опорожнювати мішок і залишитися сухими вдень і вночі."
      ],
      [
        5,
        "5 — пацієнт має періодичні проблемні випадки, або не може чекати підкладне судно, або потрапити в туалет вчасно, або потребує допомоги з катетером."
      ],
      [
        0,
        "0 — нетримання"
      ]
    ]
  ]
  ]
    },





    "Berg": {
        "name": "Шкала балансу Берга",
        "description": "MAX 56 (Normal). 0-20 переміщення тільки на візку, 21-40 ходьба з допомогою 41-56, не потребує допомоги при ходьбі, < 45 б підвищений ризик падінь",
        "usage": "",
        "type": "test_default",
        "data": 
        [
  [
    "1. Перехід з положення сидячи в положення стоячи",
    "Будь ласка встаньте.  Постарайтеся не використовувати руки для опори.",
    [
      [
        4,
        "4 - здатність встати без допомоги рук і самостійно утримувати рівновагу"
      ],
      [
        3,
        "3 - здатність самостійно встати, використовуючи руки"
      ],
      [
        2,
        "2 - здатність встати, використовуючи руки, після декількох спроб"
      ],
      [
        1,
        "1 - здатність встати з мінімальною допомогою при вставанні або утриманні рівноваги"
      ],
      [
        0,
        "0 - здатність встати з помірною або максимальної допомогою"
      ]
    ]
  ],
  [
    "2. Стояння без підтримки",
    "Будь ласка, стійте 2 хв без підтримки.",
    [
      [
        4,
        "4 - здатність простояти 2 хв без ризику падіння"
      ],
      [
        3,
        "3 - здатність простояти 2 хв під наглядом"
      ],
      [
        2,
        "2 - здатність простояти 30 с без підтримки"
      ],
      [
        1,
        "1 - здатність простояти 30 с без підтримки, але після декількох спроб"
      ],
      [
        0,
        "0 - нездатність простояти 30 с без підтримки"
      ]
    ]
  ],
  [
    "3. Сидіння з підтримкою",
    "Будь ласка, сядьте з зігнутими руками на 2 хв (без опори спиною).",
    [
      [
        4,
        "4 - здатність просидіти 2 хв без ризику падіння"
      ],
      [
        3,
        "3 - здатність просидіти 2 хв під наглядом"
      ],
      [
        2,
        "2 - здатність просидіти 30 с"
      ],
      [
        1,
        "1 - здатність просидіти 10 с"
      ],
      [
        0,
        "0 - нездатність просидіти 10 с без підтримки"
      ]
    ]
  ],
  [
    "4. Перехід з положення стоячи в положення сидячи",
    "Будь ласка, сядьте.",
    [
      [
        4,
        "4 - здатність сісти без ризику падіння з мінімальним використанням рук"
      ],
      [
        3,
        "3 - здатність сісти, контролюючи опускання тіла за допомогою рук"
      ],
      [
        2,
        "2 - здатність сісти, контролюючи опускання тіла задньою поверхнею ніг, спираючись ними про крісло"
      ],
      [
        1,
        "1 - здатність сісти, але без контролю опускання тіла"
      ],
      [
        0,
        "0 - здатність сісти тільки з допомогою"
      ]
    ]
  ],
  [
    "5. Переміщення",
    "Переміщення між ліжком і стільцем.",
    [
      [
        4,
        "4 - здатність переміщатися з незначною допомогою рук"
      ],
      [
        3,
        "3 - здатність переміщатися з певною допомогою рук"
      ],
      [
        2,
        "2 - здатність переміщатися зі словесної допомогою і / або під наглядом"
      ],
      [
        1,
        "1 - здатність переміщатися за допомогою одного асистента"
      ],
      [
        0,
        "0 - здатність переміщатися за допомогою двох асистентів і наглядом за безпекою"
      ]
    ]
  ],
  [
    "6. Стояння без підтримки з закритими очима",
    "Будь ласка, закрийте очі і стійте нерухомо близько 10 с.",
    [
      [
        4,
        "4 - здатність безпечно простояти 10 с"
      ],
      [
        3,
        "3 - здатність простояти 10 с під наглядом"
      ],
      [
        2,
        "2 - здатність простояти 3 с"
      ],
      [
        1,
        "1 - нездатність тримати закритими очі протягом 3 с, але здатність стояти безпечно"
      ],
      [
        0,
        "0 - потрібна допомога, щоб триматися і не падати"
      ]
    ]
  ],
  [
    "7. Стояти без підтримки - стопи ніг разом",
    "Поставте стопи разом і стійте без підтримки.",
    [
      [
        4,
        "4 - здатність поставити стопи разом і стояти 1 хв без ризику падіння"
      ],
      [
        3,
        "3 - здатність поставити стопи разом і стояти 1 хв під наглядом"
      ],
      [
        2,
        "2 - здатність поставити стопи разом і стояти до 30 с "
      ],
      [
        1,
        "1 - здатність прийняти цю позу (стопи разом) за допомогою і стояти 15 с"
      ],
      [
        0,
        "0 - здатність прийняти цю позу (стопи разом) за допомогою, але нездатність стояти 15 с"
      ]
    ]
  ],
  [
    "8. Тягнутися рукою вперед",
    "Підняти руку вперед на 90 °.  Потягнутися вперед настільки, наскільки можете.",
    [
      [
        4,
        "4 - здатність впевнено потягнутися вперед на 25 см"
      ],
      [
        3,
        "3 - здатність безпечно потягнутися вперед на 12 см"
      ],
      [
        2,
        "2 - здатність безпечно потягнутися вперед на 5 см"
      ],
      [
        1,
        "1 - здатність тягнутися вперед, але є необхідність у спостереженні"
      ],
      [
        0,
        "0 - нездатність зберегти рівновагу під час спроби (при виконанні вправи є необхідність у підтримці)"
      ]
    ]
  ],
  [
    "9. Піднімання предмета з підлоги (з вихідного положення стоячи)",
    "Підніміть тапочку, яка лежить перед вашими стопами.",
    [
      [
        4,
        "4 - здатність підняти тапочку легко і без ризику падіння"
      ],
      [
        3,
        "3 - здатність підняти тапочку, але під наглядом"
      ],
      [
        2,
        "2 - нездатність підняти тапочку, що не дотягується 2-5 см до тапочки, але зберігає рівновагу"
      ],
      [
        1,
        "1 - нездатність підняти тапочку і потребує спостереження в процесі спроби підняти предмет"
      ],
      [
        0,
        "0 - нездатність підняти предмет, потреба в допомозі для збереження рівноваги і запобігання падінню"
      ]
    ]
  ],
  [
    "10. Поворот голови для того, щоб подивитися назад",
    "Поверніть голову наліво (через ліве плече), щоб подивитися назад (ззаду себе).  Повторіть те ж саме направо.",
    [
      [
        4,
        "4 - здатність подивитися назад в обидві сторони з хорошою балансуванням і збереженням рівноваги"
      ],
      [
        3,
        "3 - здатність подивитися назад тільки в одну сторону, в іншу - втрачається рівновага"
      ],
      [
        2,
        "2 - здатність подивитися тільки в одну сторону (праворуч або ліворуч), але з підтримкою рівноваги"
      ],
      [
        1,
        "1 - необхідність спостереження при виконанні поворотів"
      ],
      [
        0,
        "0 - необхідна допомога для збереження рівноваги"
      ]
    ]
  ],
  [
    "11. Поворот на 360 °",
    "Зробіть повний поворот по колу на 360 °.  Зробіть паузу.  Тепер поверніться в іншому напрямку.",
    [
      [
        4,
        "4 - здатність безпечно повернутися на 360 ° в обидві сторони не більш ніж за 4 с"
      ],
      [
        3,
        "3 - здатність безпечно повернутися на 360 ° в одну сторону не більше ніж за 4 с"
      ],
      [
        2,
        "2 - здатність безпечно повернутися на 360 °, але повільно "
      ],
      [
        1,
        "1 - потребує спостереження при повороті "
      ],
      [
        0,
        "0 - потрібна допомога при поворотах"
      ]
    ]
  ],
  [
    "12. Ходьба на місці",
    "Виберіть місце і почніть ходьбу.  Продовжуйте до тих пір, поки кожна нога не опуститься на підлогу 4 рази (цикл з 8 кроків).",
    [
      [
        4,
        "4 - здатність зробити 8 кроків за 20 с"
      ],
      [
        3,
        "3 - здатність зробити 8 кроків більш ніж за 20 с"
      ],
      [
        2,
        "2 - здатність зробити 4 кроки без допомоги під наглядом"
      ],
      [
        1,
        "1 - здатність зробити більше 3 кроків з мінімальною допомогою"
      ],
      [
        0,
        "0 - необхідна допомога, щоб не впасти / не втратити рівновагу, або нездатність ходьби"
      ]
    ]
  ],
  [
    "13. Стійка на двох ногах одна попереду іншої",
    "Поставте одну ногу перед іншою.  Якщо ви відчули, що не можете поставити ногу вперед, спробуйте поставити її досить вперед перед пальцем іншої ноги.",
    [
      [
        4,
        "4 - здатність простояти в цій позі 30 с "
      ],
      [
        3,
        "3 - здатність простояти 30 с при кроці меншому, ніж в першому випадку"
      ],
      [
        2,
        "2 - здатність простояти 30 с при маленькому кроці вперед"
      ],
      [
        1,
        "1 - необхідна допомога для кроку, але є здатність простояти 15 с"
      ],
      [
        0,
        "0 - втрата рівноваги під час кроку або утримання пози"
      ]
    ]
  ],
  [
    "14. Стійка на одній нозі",
    "Встаньте на одну ногу і стійте так довго, як зможете.",
    [
      [
        4,
        "4 - здатність підняти ногу і простояти більше 10 с "
      ],
      [
        3,
        "3 - здатність підняти ногу і простояти від 5 до 10 с"
      ],
      [
        2,
        "2 - здатність підняти ногу і простояти більше 3 с"
      ],
      [
        1,
        "1 - нездатність простояти 3 с при спробі підняти ногу, але здатність зберегти положення стоячи"
      ],
      [
        0,
        "0 -  нездатність стояти на одній нозі або потреба в допомозі для запобігання падінню під час спроби"
      ]
    ]
  ]
  ]
    },





    "Rivermid": {
        "name": "Індекс мобільності Рівермід",
        "description": "MAX 15, Min 0, Step 1",
        "type": "same_answers",
        "answers": [
            [1, "Так"],
            [0, "Ні"]
        ],
        "data": 
        [
            [
                "1	Поворот у ліжку",
                "Чи можете Ви перевернутися зі спини на бік без сторонньої допомоги?",
            ],
            [
                "2	Перехід із положеня лежачи в положення сидячи",
                "Чи можете Ви з положення лежачи самостійно сісти на край ліжка?",
            ],
            [
                "3	Утримання рівноваги в положенні сидячи",
                "Чи можете Ви сидіти на краю ліжка без підтримки впродовж 10с?",
            ],
            [
                "4	Перехід з положення сидячи в положення стоячи",
                "Чи можете Ви встати (з будь-якого стільця) менше ніж за 15 с й утриматися в положенні стоячи біля стільця 15 с (за допомогою рук або, якщо необхідно, за допомогою допоміжних засобів)?",
            ],
            [
                "5	Стояння без підтримки",
                "Спостерігають, як хворий без опори простоїть 10с",
            ],
            [
                "6	Переміщення",
                "Чи можете Ви переміститися з ліжка на стілець і назад без будь-якої допомоги?",
            ],
            [
                "7	Ходьба по кімнаті, у тому числі за допомогою допоміжних засобів, якщо це необхідно",
                "Чи моете Ви пройти 10м, використовуючи, якщо необхідно, допоміжні засоби, але без допомоги сторонньої особи?",
            ],
            [
                "8	Підйом сходами",
                "Чи можете Ви піднятися сходами на один проліт без сторонньої допомоги?",
            ],
            [
                "9	Ходьба за межами квартири (по рівній поверхні).",
                "Чи можете Ви ходити за межами квартири  по тротуару без сторонної допомоги?",
            ],
            [
                "10	Ходьба по кімнаті без застосування допоміжних засобів",
                "Чи можете Ви пройти 10 м у межах квартири без милиці, ортеза і без допомоги ішої особи?",
            ],
            [
                "11	Підняття предметів із підлоги",
                "Якщо у Вас щось впало на підлогу, чи можете Ви пройти 5 м, підняти предмет, що впав, і повернутися назад?",
            ],
            [
                "12	Ходьба за межами квартири (по нерівній поверхні)",
                "Чи можете Ви без сторонньої допомоги ходити за межами квартири по нерівній поверхні (трава, гравій, сніг, лід тощо)?",
            ],
            [
                "13	Прийом ванни",
                "Чи можете Ви увійти у ванну (душову кабіну) і вийти з неї без нагляду, помитися самостійно?",
            ],
            [
                "14	Підйом і спуск на чотири сходинки",
                "Чи можете Ви піднятися на чотири сходинки й спуститися назад,  не спираючись на поручень, але, якщо необхідно, користуючись допоміжними засобами?",
            ],
            [
                "15	Біг",
                "Чи можете Ви пробігти 10м не накульгуючи за 4 с (допускається швидка ходьба)?",
            ]
        ]
    },






    
    "Oswestry": {
    "name": "Шкала Освестрі при болю в попереку (ODI)",
    "description": "MAX 100, Min 0 (Normal). Анкета для оцінки ступеня функціонального обмеження при болю в попереку. 0-20 - мінімальне порушення; 21-40 - помірне порушення; 41-60 - значне обмеження, біль заважає повсякденному життю; 61-80 - серйозні порушення; 81-100 - пацієнт у ліжку.",
    "type": "calculated",
    "calculation": {
      "method": "percentage_of_max",
      "max_per_question": 5
    },
    "skipCount": 1,
    "usage": [
      "Ортопедія",
      "Неврологія"
    ],
    "data": [
      [
        "Розділ 1. Інтенсивність болю",
        "",
        [
          [0, "На даний момент у мене немає болю"],
          [1, "На даний момент біль дуже слабкий"],
          [2, "На даний момент біль помірний"],
          [3, "На даний момент біль досить сильний"],
          [4, "На даний момент біль дуже сильний"],
          [5, "На даний момент біль настільки сильний, що навіть важко собі уявити"]
        ]
      ],
      [
        "Розділ 2. Самообслуговування",
        "Наприклад, умивання, одягання",
        [
          [0, "Я можу нормально про себе піклуватися, і це не викликає особливого болю"],
          [1, "Я можу нормально про себе піклуватися, але це досить болісно"],
          [2, "Щоб піклуватися про себе, я змушений бути повільним і обережним"],
          [3, "Я змушений звертатися по значну допомогу, хоча більшість дій виконую самостійно"],
          [4, "Я змушений звертатися по постійну допомогу при більшості дій"],
          [5, "Я не можу одягнутися, насилу умиваюся й залишаюся в ліжку"]
        ]
      ],
      [
        "Розділ 3. Підняття предметів",
        "",
        [
          [0, "Я можу піднімати предмети без особливого болю"],
          [1, "Я можу піднімати важкі предмети, але це викликає посилення болю"],
          [2, "Біль не дає мені піднімати важкі предмети з підлоги, але я можу з ними поводитися, якщо вони на столі"],
          [3, "Я можу піднімати тільки дуже легкі предмети"],
          [4, "Я не можу піднімати або носити що-небудь"],
          [5, "Навіть легкі предмети спричиняють сильний біль і я їх уникаю"]
        ]
      ],
      [
        "Розділ 4. Ходьба",
        "",
        [
          [0, "Біль не заважає мені ходити на будь-які відстані"],
          [1, "Біль не дозволяє мені пройти більше ніж 1 км"],
          [2, "Біль не дозволяє мені пройти більше ніж 500 м"],
          [3, "Біль не дозволяє мені пройти більше ніж 100 м"],
          [4, "Я можу ходити тільки з тростиною або милицями"],
          [5, "Я більшу частину часу перебуваю в ліжку і ледве можу дійти до туалету"]
        ]
      ],
      [
        "Розділ 5. Положення сидячи",
        "",
        [
          [0, "Я можу сидіти на будь-якому стільці стільки, скільки захочу"],
          [1, "Я можу сидіти скільки завгодно лише на улюбленому стільці"],
          [2, "Біль не дозволяє мені сидіти довше 1 години"],
          [3, "Біль не дозволяє мені сидіти довше півгодини"],
          [4, "Біль не дозволяє мені сидіти довше 10 хвилин"],
          [5, "Біль зовсім позбавляє мене можливості сидіти"]
        ]
      ],
      [
        "Розділ 6. Положення стоячи",
        "",
        [
          [0, "Я можу стояти стільки, скільки захочу, без болю"],
          [1, "Я можу стояти стільки, скільки захочу, але біль посилюється"],
          [2, "Біль не дозволяє мені стояти довше 1 години"],
          [3, "Біль не дозволяє мені стояти довше півгодини"],
          [4, "Біль не дозволяє мені стояти довше 10 хвилин"],
          [5, "Я не можу стояти взагалі"]
        ]
      ],
      [
        "Розділ 7. Сон",
        "",
        [
          [0, "Мій сон ніколи не переривається через біль"],
          [1, "Мій сон рідко переривається через біль"],
          [2, "Через біль я сплю менше ніж 6 годин"],
          [3, "Через біль я сплю менше ніж 4 години"],
          [4, "Через біль я сплю менше ніж 2 години"],
          [5, "Я не можу спати через біль"]
        ]
      ],
      [
        "Розділ 8. Сексуальне життя (якщо актуально)",
        "",
        [
          [0, "Моє сексуальне життя нормальне й не викликає болю"],
          [1, "Моє сексуальне життя нормальне, але трохи посилює біль"],
          [2, "Моє сексуальне життя значно посилює біль"],
          [3, "Моє сексуальне життя обмежене через біль"],
          [4, "Я майже не маю сексуального життя через біль"],
          [5, "Я повністю позбавлений сексуального життя через біль"]
        ]
      ],
      [
        "Розділ 9. Дозвілля",
        "",
        [
          [0, "Я можу нормально проводити дозвілля без болю"],
          [1, "Я можу проводити дозвілля, але біль посилюється"],
          [2, "Біль не впливає значно, окрім дуже активних занять"],
          [3, "Біль обмежує дозвілля, я часто не виходжу з дому"],
          [4, "Біль обмежує дозвілля за межами дому"],
          [5, "Я позбавлений дозвілля"]
        ]
      ],
      [
        "Розділ 10. Поїздки",
        "",
        [
          [0, "Я можу їздити куди завгодно без болю"],
          [1, "Я можу їздити, але це викликає біль"],
          [2, "Я витримую поїздки до 2 годин попри біль"],
          [3, "Біль скорочує мої поїздки до менш ніж 1 години"],
          [4, "Можу їздити лише на короткі дистанції (до 30 хв)"],
          [5, "Не можу подорожувати, лише до лікаря"]
        ]
      ]
    ]
  },





  "RDQ": {
        "name": "Анкета Роланда-Морріса (RDQ)",
        "description": "MAX 24, Min 0 (Normal), Step 1",
        "type": "same_answers",
        "answers": [
            [1, "Так"],
            [0, "Ні"]
        ],
        "data": 
        [
          "1) Я залишаюся вдома більшу частину часу через спину",
          "2) Я часто змінюю положення, щоб спині було зручно.",
          "3) Я ходжу повільніше ніж зазвичай через мою спину",
          "4) Через мою спину я не можу робити звичайну роботу по дому.",
          "5) Через мою спину мені доводиться використовувати перила, щоб піднятися нагору.",
          "6) Через мою спину мені частіше доводиться лягаю відпочивати.",
          "7) З-за моєї спини мені доводиться триматися за щось, щоб підвестися зі стільця.",
          "8) Через мою спину мені доводиться просити інших людей зробити щось мені.",
          "9) Я одягаюсь повільніше ніж зазвичай через мою спину.",
          "10) Я стою лише короткий час через мою спину.",
          "11) Через мою спину я намагаюся не нахилятися і не вставати навколішки.",
          "12) Мені дуже важко вставати зі стільця через мою спину.",
          "13) Моя спина болить майже весь час.",
          "14) Мені важко повертатися в ліжку через мою спину.",
          "15) Я маю не дуже добрий апетит через болі в спині.",
          "16) Я маю проблеми з надяганням шкарпеток через біль у спині.",
          "17) Я ходжу тільки на короткі відстані через мою спину.",
          "18) Я погано сплю через спину.",
          "19) Через болі в спині я одягаюсь із чиєюсь допомогою.",
          "20) Я сиджу більшу частину дня завдяки моїй спині.",
          "21) Я уникаю важкої роботи по дому через мою спину.",
          "22) Через болі в спині я більше роздратований і різкий з іншими людьми, ніж зазвичай.",
          "23) Через болі в спині я піднімаюсь сходами повільніше ніж зазвичай.",
          "24) Я багато часу лежу в ліжку з-за болю у спині.",
        ]
  },


  "DASHquick": {
        "name": "Quick DASH",
        "description": "Шкала неспроможності функціонування руки, плеча та кисті (QuickDASH)використовується для оцінювання здатності виконувати певну діяльність. MAX 100, Min 0 (Normal)",
        "type": "calculated",
        "calculation": {
          "method": "DASH",
          "max_per_question": 5
        },
        "skipCount": 1,
        "usage": [
        ],
        "data": 
        [
            [
                "1. Відкрити щільно закриту чи нову банку",
                "",
                [
                [1, "Немає труднощів"],
                [2, "Легкі труднощі"],
                [3, "Помірні труднощі"],
                [4, "Значні труднощі"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "2. Виконувати важку домашню роботу",
                "(наприклад, мити посуд, підлогу)",
                [
                [1, "Немає труднощів"],
                [2, "Легкі труднощі"],
                [3, "Помірні труднощі"],
                [4, "Значні труднощі"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "3. Носити сумку або портфель.",
                "",
                [
                [1, "Немає труднощів"],
                [2, "Легкі труднощі"],
                [3, "Помірні труднощі"],
                [4, "Значні труднощі"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "4. Мити спину",
                "",
                [
                [1, "Немає труднощів"],
                [2, "Легкі труднощі"],
                [3, "Помірні труднощі"],
                [4, "Значні труднощі"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "5. Використовувати ніж для нарізання продуктів",
                "",
                [
                [1, "Немає труднощів"],
                [2, "Легкі труднощі"],
                [3, "Помірні труднощі"],
                [4, "Значні труднощі"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "6. Розважальні заходи, в яких необхідні зусилля чи удар руки, плеча, кисті(наприклад, гольф, кидка, теніс тощо).",
                "",
                [
                [1, "Немає труднощів"],
                [2, "Легкі труднощі"],
                [3, "Помірні труднощі"],
                [4, "Значні труднощі"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "7. Протягом минулого тижня, якою мірою ваша проблема з рукою, плечем або кистю заважала звичній соціальній активності з родиною, друзями, сусідами тощо?",
                "",
                [
                [1, "Зовсім не заважала"],
                [2, "Незначно"],
                [3, "Помірно"],
                [4, "Значно"],
                [5, "Дуже сильно"]
                ]                
            ],
            [
                "8. Протягом минулого тижня чи були ви обмежені у своїй роботі чи іншій повсякденній діяльності через проблеми з рукою, плечем чи кистю?",
                "",
                [
                [1, "Зовсім не обмежувала"],
                [2, "Незначно обмежувала"],
                [3, "Помірно"],
                [4, "Дуже обмежувала"],
                [5, "Неможливо"]
                ]                
            ],
            [
                "9. Біль у руці, плечі або кисті.",
                "",
                [
                [1, "Відсутній"],
                [2, "Легкий"],
                [3, "Помірний"],
                [4, "Значний"],
                [5, "Дуже сильний"]
                ]                
            ],
            [
                "10. Відчуття поколювання у вашій руці, плечі або кисті",
                "",
                [
                [1, "Відсутній"],
                [2, "Легкий"],
                [3, "Помірний"],
                [4, "Значний"],
                [5, "Дуже сильний"]
                ]                
            ],
            [
                "11. Протягом останнього тижня, наскільки складно було спати через біль у руці, плечі чи кисті?",
                "",
                [
                [1, "Не було складнощів"],
                [2, "Незначні складнощі"],
                [3, "Помірні"],
                [4, "Великі складнощі"],
                [5, "Дуже сильний"]
                ]                
            ]     
        ]
    },




    "Frenchay": {
        "name": "Френчай",
        "description": "Max 5 (Normal), Min 0. Пацієнт сидить за столом, руки лежать на колінах. Це положення є вихідним для завдань, які повинні бути виконані ураженою рукою",
        "usage": "",
        "type": "same_answers",
        "answers": [
            [1, "Виконано"],
            [0, "Не виконано"]
        ],
        "data": 
        [
            
            ["Утримати лінійку та за допомогою неї накреслити лінію, тримаючи олівець в інший (неураженій)руці",
            "завдання вважається виконаним успішно, якщо лінійка утримується стабільно"
            ],

            ["Взяти в руку циліндр діаметром 12 мм і завдовжки 5 см, поставлений вертикально на відстані 15-30 см від краю столу, підняти його на висоту близько 30см і потім опустити на місце, не впустивши при цьому",
            ""
            ],

            ["Взяти склянку, наполовину наповнену водою, поставлену на відстані 15-30 см від краю столу, налити води й поставити склянку на місце, не роплескавши при цьому воду",
            "",
            ],

            ["Зняти, а потім встановити на колишнє місце білизняну прищіпку, укріплену на вертикальному кілочку завдовжки 15 см і діаметром 1 см. Кілочок укріплений на квадратній дощечці (довжина сторони 10см), розміщеній на відстані 15-30см від краю столу(пацієнт не повинен впустити прищіпку або кілочок)",
            ""
            ],

            ["Причесати волосся або імітувати причісування (пацієнт повинен розчесати волосся на маківці, на потилиці, з правого і лівого боку)",
            ""
            ]
        ]
        },
        




    


    




    "WayneSleep": {
    "name": "Анкета оцінки нічного сну за Вейном",
    "description": "Анкета оцінки нічного сну розроблена для кількісної оцінки якості сну. Запропоновані такі градації залежно від сумарного бала: більше 30-22 балів – сон не порушений; 22-18 балів – легкі порушення сну (пограничні значення); менше 18 балів – значні порушення сну.",
    "usage": "",
    "type": "test_default",
    "data": [
    ['Час засинання',
  '',
  [[5, 'Миттєво'],     
   [4, 'Недовго'],     
   [3, 'Середньо'],    
   [2, 'Тривало'],     
   [1, 'Дуже довго']]
],
 ['Тривалість сну',
  '',
  [[5, 'Дуже довга'],
   [4, 'Довга'],
   [3, 'Середня'],
   [2, 'Коротка'],
   [1, 'Дуже коротка']]
],
 ['Нічні пробудження',
  '',
  [[5, 'Ні'], [4, 'Рідко'], [3, 'Нечасто'], [2, 'Часто'], [1, 'Дуже часто']]
],
 ['Сновидіння',
  '',
  [[5, 'Ні'],
   [4, 'Часом'],
   [3, 'Помірно'],
   [2, 'Численні'],
   [1, 'Численні й тривожні']]
],
 ['Якість сну',
  '',
  [[5, 'Відмінно'],
   [4, 'Добре'],
   [3, 'Середньо'],
   [2, 'Погано'],
   [1, 'Дуже погано']]
],
 ['Якість пробудження',
  '',
  [[5, 'Відмінно'],
   [4, 'Добре'],
   [3, 'Середньо'],
   [2, 'Погано'],
   [1, 'Дуже погано']]
  ]
  ]
    },



    "DHI": {
    "name": "Перелік обмежень щодо запаморочення (DHI)",
    "description": "Пацієнта просять відповісти на кожне запитання, оскільки воно стосується проблем із запамороченням або хиткістю, зокрема враховуючи їх стан протягом останнього місяця. Питання охоплюють функціональні (F), фізичні (P) та емоційні (E) аспекти. Оцінки: понад 10 балів — варто звернутися до спеціаліста. 'Ні' = 0, 'Іноді' = 2, 'Так' = 4. 16–34 — легкий гандикап; 36–52 — помірний гандикап; 54+ — сильний гандикап. MAX 100, Min 0, Step 1",
    "usage": "",
    "type": "test_default",
    "data": [
    ['P1. Чи посилює вашу проблему погляд угору?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E2. Чи відчуваєте ви розчарування через свою проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F3. Через свою проблему чи обмежуєте ви поїздки у справах чи на відпочинок?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['P4. Прогулянка по проходу супермаркету збільшує ваші проблеми?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F5. Через вашу проблему чи важко вам лягати чи вставати з ліжка?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F6. Чи ваша проблема суттєво обмежує вашу участь у громадській діяльності?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F7. Через вашу проблему вам важко читати?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['P8. Чи збільшує активність (спорт, танці, прибирання) ваші проблеми?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E9. Чи боїтеся ви виходити з дому без супроводу через проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E10. Через вашу проблему вам було соромно перед іншими?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['P11. Швидкі рухи головою посилюють вашу проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F12. Чи уникаєте ви висоти через свою проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['P13. Перевертання в ліжку посилює вашу проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F14. Через вашу проблему чи важко вам виконувати фізичну роботу по дому?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E15. Чи боїтеся, що люди подумають, ніби ви п’яні через вашу проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F16. Через вашу проблему чи важко вам самостійно виходити на прогулянку?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['P17. Ходьба тротуаром посилює вашу проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E18. Через вашу проблему, чи важко вам зосередитися?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F19. Через вашу проблему чи важко вам ходити по дому в темряві?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E20. Через свою проблему ви боїтеся залишатися вдома самі?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E21. Чи почуваєтесь ви інвалідом через свою проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E22. Проблема погіршила ваші стосунки з родиною чи друзями?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['E23. Ви в депресії через свою проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['F24. Чи заважає проблема виконувати роботу чи домашні обов’язки?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]],
 ['P25. Нахили посилюють вашу проблему?',
  '',
  [[0, 'Ні'], [2, 'Іноді'], [4, 'Так']]]
    ]
}





}



const testsList = document.querySelector('#testsList');
const containerTests = document.querySelector('#testsContainer');

const containerExam = document.querySelector('#examination');
const questionText = document.querySelector('#question');
const questionDescrText = document.querySelector('#questionDescription');
const containerAnswers = document.querySelector('#answers');
const results = document.querySelector('#results');
const result = document.querySelector('#result');
const checkboxTheme = document.querySelector('#toggleTheme');
const backButton = document.querySelector('#back');
const description = document.querySelector('#description');


let styleMode = localStorage.getItem('styleMode');

let counter = 0;
let counterAnswerGiven = 0;
let skipCountRes
let score = 0;


function pr (t) {
    console.log(t);
}


// Change theme
if (styleMode == 'dark') {
    document.body.classList.add('darkstyle');
    checkboxTheme.checked = true;
}

checkboxTheme.onclick = () => {
    if (styleMode == 'dark') {
        document.body.classList.remove('darkstyle');
        styleMode = 'light';
    } else {
        document.body.classList.add('darkstyle');
        styleMode = 'dark';
    }
    localStorage.setItem('styleMode', styleMode);
}


// Back button function
backButton.onclick = () => {
    testsList.classList.remove("none");
    containerExam.classList.add("none");

    counter = 0;
    counterAnswerGiven = 0;
    score = 0;
    skipCountRes = 0;
    results.classList.add("none");
}


// Fill fields for tests
function fillTests (tests) {
    for (item in tests) {     
        const button = document.createElement('button');
        button.setAttribute('role', 'button');
        button.innerText = tests[item]["name"]
        button.value = item
        containerTests.append(button);

        button.onclick = () => chooseTest(button, tests);
    }
}


function chooseTest (button, tests) {
    testsList.classList.add("none");
    containerExam.classList.remove("none");

    let item = button.value;
    test = tests[item];
    skipCountRes = test.skipCount
    displayNextQuestion();
}


function displayNextQuestion() {
    
    // testData = [ ["question", "additional text", [ ["answer", 0], ["answer", 1] ]], ]
    const testData = test["data"];

    // Check on apearance of questions
    if (counter >= testData.length) {
        showResult();
        return;
    }
    
    // questionArr can be array or string
    const questionArr = testData[counter];
    if (typeof(questionArr) == "string") {
      questionText.innerText = questionArr;
      questionDescrText.innerText = "";
      questionDescrText.classList.add("none");
    } else {
      // Filling of text and description
      questionText.innerText = questionArr[0];
      questionDescrText.innerText = questionArr[1] || "";
      questionDescrText.classList.remove("none");
    }
    
    

    // Delete old buttons
    containerAnswers.innerHTML = "";

    // Description add
    description.innerText = test.description

    // Chek is answers is the same?
    let answers
    if (test.type == "same_answers") {
        answers = test.answers
    } else {
        answers = questionArr[2]
    }
    // It`s not than effective function as possible because uses multiple times

    // Create new buttons
    for (let i = 0; i < answers.length; i++) {
        const answerText = answers[i][1];
        const answerValue = answers[i][0];

        const button = document.createElement('button');
        button.classList.add('answer');
        button.innerText = answerText;
        button.value = answerValue;

        // Create click function
        button.onclick = () => {
            score += parseInt(button.value); // Save score
            counter++;
            counterAnswerGiven++;
            displayNextQuestion(); // Next question
        }

        containerAnswers.append(button);
    }
    
    if (skipCountRes > 0) {        
        const button = document.createElement('button');
        button.classList.add('answer');
        button.classList.add('mainButton');
        button.innerText = "Пропустити питання";

        // Create click function
        button.onclick = () => {
            counter++;
            skipCountRes--;
            displayNextQuestion(); // Next question
        }

        containerAnswers.append(button);
    }
}



function showResult() {
    questionText.innerText = "Тест завершено";
    questionDescrText.innerText = "";
    containerAnswers.innerHTML = "";
    results.classList.remove("none");

    let resultValue

    if (test.type === "calculated") {

      if (test.calculation.method == "percentage_of_max") {        
        const maxPerQuestion = test.calculation.max_per_question || 5;
        const maxScore = counterAnswerGiven * maxPerQuestion;

        const percentage = (score / maxScore) * 100;
        resultValue = test.calculation.round ? percentage.toFixed(test.calculation.round) : percentage;

      } else if (test.calculation.method == "DASH") {
        resultValue = (score / counterAnswerGiven - 1) * 25

      }
        
    } else {
      resultValue = score
    }
    result.innerText = `Результат: ${resultValue}`;
}


fillTests(tests)
</script>


